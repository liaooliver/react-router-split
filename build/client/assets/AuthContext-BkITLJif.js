import{r as t,l as d}from"./chunk-KNED5TY2-Cl3wCyk9.js";import{o as f,a as r,s as x,b as p,g as A}from"./firebase-CTRYxaob.js";const u=t.createContext(null);function v(){const e=t.useContext(u);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function w({children:e}){const[o,i]=t.useState(null),[s,a]=t.useState(!0);async function c(){try{await p(r,A)}catch(n){throw console.error("Google sign in error:",n),n}}function g(){return x(r)}t.useEffect(()=>f(r,l=>{i(l),a(!1)}),[]);const h={currentUser:o,getIdToken:()=>o==null?void 0:o.getIdToken(!0),loading:s,signInWithGoogle:c,logOut:g};return d.jsx(u.Provider,{value:h,children:!s&&e})}export{w as A,v as u};
