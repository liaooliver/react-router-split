import{w as Ce}from"./with-props-B2Htt2Hn.js";import{r as c,l as r,p as Q}from"./chunk-KNED5TY2-aB5C0GE7.js";import{c as L,u as y,B as E}from"./button-BVG67S5E.js";import{C as Z,a as ee}from"./card-DV3dFTMn.js";import{c as te,P as C,u as w,a as M,b as k,d as P}from"./index-ClNy2XSY.js";import{u as je,c as Pe}from"./index-GRCbIDdf.js";import{D as Ae,a as Ee,b as Re,c as ye,d as Ne}from"./dialog-bh4Rpo9L.js";import{I as Te}from"./input-Cugxmh2B.js";import{A as Le,P as De}from"./AnimatedPageContainer-D9iUIbLG.js";import{P as _e}from"./plus-duRAOoAI.js";import{T as re,P as Ie}from"./trash-2-VUc5L9ge.js";import"./index-D6UMYnyY.js";import"./index-U5F_jkt5.js";import"./createLucideIcon-CuW0LreG.js";import"./arrow-left-DnYMBiHR.js";import"./proxy-DKvFvltC.js";var U="Avatar",[ze,yt]=te(U),[He,oe]=ze(U),ne=c.forwardRef((e,t)=>{const{__scopeAvatar:o,...s}=e,[n,a]=c.useState("idle");return r.jsx(He,{scope:o,imageLoadingStatus:n,onImageLoadingStatusChange:a,children:r.jsx(C.span,{...s,ref:t})})});ne.displayName=U;var ae="AvatarImage",se=c.forwardRef((e,t)=>{const{__scopeAvatar:o,src:s,onLoadingStatusChange:n=()=>{},...a}=e,i=oe(ae,o),l=Me(s,a),d=w(h=>{n(h),i.onImageLoadingStatusChange(h)});return M(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?r.jsx(C.img,{...a,ref:t,src:s}):null});se.displayName=ae;var le="AvatarFallback",ce=c.forwardRef((e,t)=>{const{__scopeAvatar:o,delayMs:s,...n}=e,a=oe(le,o),[i,l]=c.useState(s===void 0);return c.useEffect(()=>{if(s!==void 0){const d=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(d)}},[s]),i&&a.imageLoadingStatus!=="loaded"?r.jsx(C.span,{...n,ref:t}):null});ce.displayName=le;function K(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Me(e,{referrerPolicy:t,crossOrigin:o}){const s=Oe(),n=c.useRef(null),a=s?(n.current||(n.current=new window.Image),n.current):null,[i,l]=c.useState(()=>K(a,e));return M(()=>{l(K(a,e))},[a,e]),M(()=>{const d=f=>()=>{l(f)};if(!a)return;const h=d("loaded"),u=d("error");return a.addEventListener("load",h),a.addEventListener("error",u),t&&(a.referrerPolicy=t),typeof o=="string"&&(a.crossOrigin=o),()=>{a.removeEventListener("load",h),a.removeEventListener("error",u)}},[a,o,t]),i}function We(){return()=>{}}function Oe(){return c.useSyncExternalStore(We,()=>!0,()=>!1)}var ke=ne,Be=se,Fe=ce;function G({className:e,...t}){return r.jsx(ke,{"data-slot":"avatar",className:L("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function Xe({className:e,...t}){return r.jsx(Be,{"data-slot":"avatar-image",className:L("aspect-square size-full",e),...t})}function Ye({className:e,...t}){return r.jsx(Fe,{"data-slot":"avatar-fallback",className:L("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function Ue(e,t){return c.useReducer((o,s)=>t[o][s]??o,e)}var V="ScrollArea",[ie,Nt]=te(V),[Ve,x]=ie(V),de=c.forwardRef((e,t)=>{const{__scopeScrollArea:o,type:s="hover",dir:n,scrollHideDelay:a=600,...i}=e,[l,d]=c.useState(null),[h,u]=c.useState(null),[f,m]=c.useState(null),[v,p]=c.useState(null),[N,X]=c.useState(null),[j,D]=c.useState(0),[Y,_]=c.useState(0),[I,T]=c.useState(!1),[z,H]=c.useState(!1),b=y(t,A=>d(A)),S=je(n);return r.jsx(Ve,{scope:o,type:s,dir:S,scrollHideDelay:a,scrollArea:l,viewport:h,onViewportChange:u,content:f,onContentChange:m,scrollbarX:v,onScrollbarXChange:p,scrollbarXEnabled:I,onScrollbarXEnabledChange:T,scrollbarY:N,onScrollbarYChange:X,scrollbarYEnabled:z,onScrollbarYEnabledChange:H,onCornerWidthChange:D,onCornerHeightChange:_,children:r.jsx(C.div,{dir:S,...i,ref:b,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":Y+"px",...e.style}})})});de.displayName=V;var ue="ScrollAreaViewport",he=c.forwardRef((e,t)=>{const{__scopeScrollArea:o,children:s,nonce:n,...a}=e,i=x(ue,o),l=c.useRef(null),d=y(t,l,i.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),r.jsx(C.div,{"data-radix-scroll-area-viewport":"",...a,ref:d,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});he.displayName=ue;var g="ScrollAreaScrollbar",me=c.forwardRef((e,t)=>{const{forceMount:o,...s}=e,n=x(g,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=n,l=e.orientation==="horizontal";return c.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),n.type==="hover"?r.jsx($e,{...s,ref:t,forceMount:o}):n.type==="scroll"?r.jsx(qe,{...s,ref:t,forceMount:o}):n.type==="auto"?r.jsx(fe,{...s,ref:t,forceMount:o}):n.type==="always"?r.jsx($,{...s,ref:t}):null});me.displayName=g;var $e=c.forwardRef((e,t)=>{const{forceMount:o,...s}=e,n=x(g,e.__scopeScrollArea),[a,i]=c.useState(!1);return c.useEffect(()=>{const l=n.scrollArea;let d=0;if(l){const h=()=>{window.clearTimeout(d),i(!0)},u=()=>{d=window.setTimeout(()=>i(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",h),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",h),l.removeEventListener("pointerleave",u)}}},[n.scrollArea,n.scrollHideDelay]),r.jsx(k,{present:o||a,children:r.jsx(fe,{"data-state":a?"visible":"hidden",...s,ref:t})})}),qe=c.forwardRef((e,t)=>{const{forceMount:o,...s}=e,n=x(g,e.__scopeScrollArea),a=e.orientation==="horizontal",i=F(()=>d("SCROLL_END"),100),[l,d]=Ue("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return c.useEffect(()=>{if(l==="idle"){const h=window.setTimeout(()=>d("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(h)}},[l,n.scrollHideDelay,d]),c.useEffect(()=>{const h=n.viewport,u=a?"scrollLeft":"scrollTop";if(h){let f=h[u];const m=()=>{const v=h[u];f!==v&&(d("SCROLL"),i()),f=v};return h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[n.viewport,a,d,i]),r.jsx(k,{present:o||l!=="hidden",children:r.jsx($,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:P(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:P(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),fe=c.forwardRef((e,t)=>{const o=x(g,e.__scopeScrollArea),{forceMount:s,...n}=e,[a,i]=c.useState(!1),l=e.orientation==="horizontal",d=F(()=>{if(o.viewport){const h=o.viewport.offsetWidth<o.viewport.scrollWidth,u=o.viewport.offsetHeight<o.viewport.scrollHeight;i(l?h:u)}},10);return R(o.viewport,d),R(o.content,d),r.jsx(k,{present:s||a,children:r.jsx($,{"data-state":a?"visible":"hidden",...n,ref:t})})}),$=c.forwardRef((e,t)=>{const{orientation:o="vertical",...s}=e,n=x(g,e.__scopeScrollArea),a=c.useRef(null),i=c.useRef(0),[l,d]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=Se(l.viewport,l.content),u={...s,sizes:l,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function f(m,v){return et(m,i.current,l,v)}return o==="horizontal"?r.jsx(Ke,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&a.current){const m=n.viewport.scrollLeft,v=J(m,l,n.dir);a.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:m=>{n.viewport&&(n.viewport.scrollLeft=m)},onDragScroll:m=>{n.viewport&&(n.viewport.scrollLeft=f(m,n.dir))}}):o==="vertical"?r.jsx(Ge,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&a.current){const m=n.viewport.scrollTop,v=J(m,l);a.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:m=>{n.viewport&&(n.viewport.scrollTop=m)},onDragScroll:m=>{n.viewport&&(n.viewport.scrollTop=f(m))}}):null}),Ke=c.forwardRef((e,t)=>{const{sizes:o,onSizesChange:s,...n}=e,a=x(g,e.__scopeScrollArea),[i,l]=c.useState(),d=c.useRef(null),h=y(t,d,a.onScrollbarXChange);return c.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),r.jsx(be,{"data-orientation":"horizontal",...n,ref:h,sizes:o,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":B(o)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(a.viewport){const m=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),we(m,f)&&u.preventDefault()}},onResize:()=>{d.current&&a.viewport&&i&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:O(i.paddingLeft),paddingEnd:O(i.paddingRight)}})}})}),Ge=c.forwardRef((e,t)=>{const{sizes:o,onSizesChange:s,...n}=e,a=x(g,e.__scopeScrollArea),[i,l]=c.useState(),d=c.useRef(null),h=y(t,d,a.onScrollbarYChange);return c.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),r.jsx(be,{"data-orientation":"vertical",...n,ref:h,sizes:o,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":B(o)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(a.viewport){const m=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),we(m,f)&&u.preventDefault()}},onResize:()=>{d.current&&a.viewport&&i&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:O(i.paddingTop),paddingEnd:O(i.paddingBottom)}})}})}),[Je,ve]=ie(g),be=c.forwardRef((e,t)=>{const{__scopeScrollArea:o,sizes:s,hasThumb:n,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:u,onResize:f,...m}=e,v=x(g,o),[p,N]=c.useState(null),X=y(t,b=>N(b)),j=c.useRef(null),D=c.useRef(""),Y=v.viewport,_=s.content-s.viewport,I=w(u),T=w(d),z=F(f,10);function H(b){if(j.current){const S=b.clientX-j.current.left,A=b.clientY-j.current.top;h({x:S,y:A})}}return c.useEffect(()=>{const b=S=>{const A=S.target;(p==null?void 0:p.contains(A))&&I(S,_)};return document.addEventListener("wheel",b,{passive:!1}),()=>document.removeEventListener("wheel",b,{passive:!1})},[Y,p,_,I]),c.useEffect(T,[s,T]),R(p,z),R(v.content,z),r.jsx(Je,{scope:o,scrollbar:p,hasThumb:n,onThumbChange:w(a),onThumbPointerUp:w(i),onThumbPositionChange:T,onThumbPointerDown:w(l),children:r.jsx(C.div,{...m,ref:X,style:{position:"absolute",...m.style},onPointerDown:P(e.onPointerDown,b=>{b.button===0&&(b.target.setPointerCapture(b.pointerId),j.current=p.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),H(b))}),onPointerMove:P(e.onPointerMove,H),onPointerUp:P(e.onPointerUp,b=>{const S=b.target;S.hasPointerCapture(b.pointerId)&&S.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=D.current,v.viewport&&(v.viewport.style.scrollBehavior=""),j.current=null})})})}),W="ScrollAreaThumb",pe=c.forwardRef((e,t)=>{const{forceMount:o,...s}=e,n=ve(W,e.__scopeScrollArea);return r.jsx(k,{present:o||n.hasThumb,children:r.jsx(Qe,{ref:t,...s})})}),Qe=c.forwardRef((e,t)=>{const{__scopeScrollArea:o,style:s,...n}=e,a=x(W,o),i=ve(W,o),{onThumbPositionChange:l}=i,d=y(t,f=>i.onThumbChange(f)),h=c.useRef(void 0),u=F(()=>{h.current&&(h.current(),h.current=void 0)},100);return c.useEffect(()=>{const f=a.viewport;if(f){const m=()=>{if(u(),!h.current){const v=tt(f,l);h.current=v,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[a.viewport,u,l]),r.jsx(C.div,{"data-state":i.hasThumb?"visible":"hidden",...n,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:P(e.onPointerDownCapture,f=>{const v=f.target.getBoundingClientRect(),p=f.clientX-v.left,N=f.clientY-v.top;i.onThumbPointerDown({x:p,y:N})}),onPointerUp:P(e.onPointerUp,i.onThumbPointerUp)})});pe.displayName=W;var q="ScrollAreaCorner",xe=c.forwardRef((e,t)=>{const o=x(q,e.__scopeScrollArea),s=!!(o.scrollbarX&&o.scrollbarY);return o.type!=="scroll"&&s?r.jsx(Ze,{...e,ref:t}):null});xe.displayName=q;var Ze=c.forwardRef((e,t)=>{const{__scopeScrollArea:o,...s}=e,n=x(q,o),[a,i]=c.useState(0),[l,d]=c.useState(0),h=!!(a&&l);return R(n.scrollbarX,()=>{var f;const u=((f=n.scrollbarX)==null?void 0:f.offsetHeight)||0;n.onCornerHeightChange(u),d(u)}),R(n.scrollbarY,()=>{var f;const u=((f=n.scrollbarY)==null?void 0:f.offsetWidth)||0;n.onCornerWidthChange(u),i(u)}),h?r.jsx(C.div,{...s,ref:t,style:{width:a,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function O(e){return e?parseInt(e,10):0}function Se(e,t){const o=e/t;return isNaN(o)?0:o}function B(e){const t=Se(e.viewport,e.content),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-o)*t;return Math.max(s,18)}function et(e,t,o,s="ltr"){const n=B(o),a=n/2,i=t||a,l=n-i,d=o.scrollbar.paddingStart+i,h=o.scrollbar.size-o.scrollbar.paddingEnd-l,u=o.content-o.viewport,f=s==="ltr"?[0,u]:[u*-1,0];return ge([d,h],f)(e)}function J(e,t,o="ltr"){const s=B(t),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-n,i=t.content-t.viewport,l=a-s,d=o==="ltr"?[0,i]:[i*-1,0],h=Pe(e,d);return ge([0,i],[0,l])(h)}function ge(e,t){return o=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(o-e[0])}}function we(e,t){return e>0&&e<t}var tt=(e,t=()=>{})=>{let o={left:e.scrollLeft,top:e.scrollTop},s=0;return function n(){const a={left:e.scrollLeft,top:e.scrollTop},i=o.left!==a.left,l=o.top!==a.top;(i||l)&&t(),o=a,s=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(s)};function F(e,t){const o=w(e),s=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(s.current),[]),c.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(o,t)},[o,t])}function R(e,t){const o=w(t);M(()=>{let s=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(o)});return n.observe(e),()=>{window.cancelAnimationFrame(s),n.unobserve(e)}}},[e,o])}var rt=de,ot=he,nt=xe;function at({className:e,children:t,...o}){return r.jsxs(rt,{"data-slot":"scroll-area",className:L("relative",e),...o,children:[r.jsx(ot,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),r.jsx(st,{}),r.jsx(nt,{})]})}function st({className:e,orientation:t="vertical",...o}){return r.jsx(me,{"data-slot":"scroll-area-scrollbar",orientation:t,className:L("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...o,children:r.jsx(pe,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const lt={eventId:"20200101",title:"週末烤肉聚會",status:"unsettled",members:[{id:1,name:"小美",avatar:"https://i.pravatar.cc/100?u=1"},{id:2,name:"阿宏",avatar:"https://i.pravatar.cc/100?u=2"},{id:3,name:"志明",avatar:"https://i.pravatar.cc/100?u=3"}],balances:[{userId:1,name:"小美",amount:120},{userId:2,name:"阿宏",amount:-60},{userId:3,name:"志明",amount:-60}],expenses:[{id:101,title:"肉品食材",amount:180},{id:102,title:"飲料啤酒",amount:60}]},ct=({event:e,onAddMember:t})=>{const[o,s]=c.useState(!1),[n,a]=c.useState(""),i=()=>{n.trim()&&(t(n.trim()),a(""),s(!1))};return r.jsxs(r.Fragment,{children:[r.jsx(at,{className:"flex max-w-md mx-auto p-4 space-y-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex flex-col items-center cursor-pointer",onClick:()=>s(!0),children:[r.jsx(G,{className:"w-10 h-10 bg-[#00C4CC]",children:r.jsx(_e,{className:"w-5 h-5 text-white"})}),r.jsx("span",{className:"text-xs text-[#263238] mt-1",children:"新增"})]}),e.members.map(l=>r.jsxs("div",{className:"relative flex flex-col items-center",children:[r.jsxs(G,{className:"w-10 h-10 bg-[#E5E7EB]",children:[r.jsx(Xe,{src:l.avatar,alt:l.name}),r.jsx(Ye,{children:l.name.charAt(0)})]}),r.jsx("span",{className:"text-xs text-[#263238] mt-1",children:l.name}),r.jsx("button",{className:"absolute -top-1 -right-1 bg-white rounded-full p-0.5",children:r.jsx(re,{className:"w-3 h-3 text-red-500"})})]},l.id))]})}),r.jsx(Ae,{open:o,onOpenChange:s,children:r.jsxs(Ee,{className:"sm:max-w-[425px] bg-card text-card-foreground border border-border",children:[r.jsx(Re,{children:r.jsx(ye,{className:"text-card-foreground",children:"新增成員"})}),r.jsx("div",{className:"grid gap-4 py-4",children:r.jsx("div",{className:"grid grid-cols-4 items-center gap-4",children:r.jsx(Te,{id:"name",placeholder:"請輸入成員名稱",className:"col-span-4 border-input",value:n,onChange:l=>a(l.target.value),onKeyDown:l=>{l.key==="Enter"&&i()}})})}),r.jsxs(Ne,{className:"gap-2",children:[r.jsx(E,{variant:"outline",onClick:()=>s(!1),className:"w-20 h-10 border-[#D1D5DB] rounded-md bg-muted text-muted-foreground hover:bg-muted/90",children:"取消"}),r.jsx(E,{className:"w-20 h-10 rounded-md bg-primary text-primary-foreground hover:bg-primary/90",onClick:i,disabled:!n.trim(),children:"新增"})]})]})})]})},it=({event:e})=>r.jsx("div",{className:"space-y-2",children:e.balances.map(t=>r.jsx(Z,{className:"w-full h-14 border border-[#D1D5DB] rounded-lg",children:r.jsxs(ee,{className:"flex items-center justify-between h-full px-4",children:[r.jsx("span",{className:"text-sm text-[#263238]",children:t.name}),r.jsxs("span",{className:`text-sm font-medium ${t.amount>=0?"text-green-500":"text-red-500"}`,children:[t.amount>=0?"+":"-","$",Math.abs(t.amount).toFixed(2)]})]})},t.userId))}),dt=({isSettled:e,event:t})=>e?null:t.expenses.length===0?r.jsx("div",{className:"text-sm text-center text-gray-400",children:"目前無費用記錄"}):r.jsx("div",{className:"space-y-2",children:t.expenses.map(o=>r.jsx(Z,{className:"w-full h-14 border border-[#D1D5DB] rounded-lg",children:r.jsxs(ee,{className:"flex items-center justify-between h-full px-4",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-[#263238]",children:[o.title," - $",o.amount]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Q,{to:{pathname:`/expenseDetails/${o.id}`},children:r.jsx(E,{variant:"ghost",size:"icon",children:r.jsx(Ie,{className:"w-4 h-4 text-[#00C4CC]"})})}),r.jsx(E,{variant:"ghost",size:"icon",children:r.jsx(re,{className:"w-4 h-4 text-red-500"})})]})]})},o.id))}),Tt=Ce(function(){const[t,o]=c.useState(lt),s=t.status==="settled",n=a=>{const i={id:Math.max(...t.members.map(d=>d.id))+1,name:a,avatar:`https://i.pravatar.cc/100?u=${Date.now()}`},l={userId:i.id,name:a,amount:0};o(d=>({...d,members:[...d.members,i],balances:[...d.balances,l]}))};return r.jsxs(Le,{children:[r.jsx(De,{title:t.title}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base font-medium text-[#263238] mb-2",children:"成員"}),r.jsx(ct,{event:t,onAddMember:n})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base font-medium text-[#263238] mb-2",children:"餘額概覽"}),r.jsx(it,{event:t})]}),!s&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h2",{className:"text-base font-medium text-[#263238]",children:"費用列表"}),r.jsx(Q,{to:{pathname:"/addExpense",search:`?event=${t.eventId}`},children:r.jsx(E,{className:"bg-[#00C4CC] text-white cursor-pointer rounded px-3 h-9",children:"新增費用"})})]}),r.jsx(dt,{event:t,isSettled:s})]}),!s&&r.jsx("div",{className:"text-center",children:r.jsx(E,{className:"w-full bg-[#FF5733] cursor-pointer text-white rounded h-10",children:"結算"})})]})});export{Tt as default};
